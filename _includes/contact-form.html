<div class="contact-form">


	<form action="{{ site.data.settings.contact_settings.form_action }}" method="POST" enctype="multipart/form-data" id="contact-form">

		<div class="contact-form__item">
			<label class="contact-form__label">Email Address *</label>
			<input type="email" name="email" placeholder="Your email address..." onkeyup="manage(this)" class="contact-form__input">
		</div>

		<div class="contact-form__item">
			<label class="contact-form__label">Name *</label>
			<input type="text" name="name" placeholder="Your name..." onkeyup="manage(this)"  class="contact-form__input">
		</div>

		<div class="contact-form__item">
			<label class="contact-form__label">Message *</label>
			<textarea name="message" placeholder="Your message..." class="contact-form__textarea" onkeyup="manage(this)" ></textarea>
		</div>

		<div class="contact-form__item">
			<label class="contact-form__label">Upload a picture or document</label>
			<input type="file" name="attachment" accept="image/png, image/jpeg" >
		</div>

		<div class="contact-form__item">
			<input type="submit" value="{{ site.data.settings.contact_settings.send_button_text }}" id="submit"   class="button button--large">
		</div>

		<input type="hidden" name="_next" value="{{site.url}}/thanks">

	</form>
		
	<script>
		function manage(txt) {
			var bt = document.getElementById('submit');
			var ele = document.getElementsByTagName('*'); 
	
			// Loop through each element.
			for (i = 0; i < ele.length; i++) {
	
				// Check the element type
				if (ele[i].name == 'name' && ele[i].value == '' ||
				   (ele[i].name == 'message' && ele[i].value ) == '' ||
				   (ele[i].name == 'email' && ele[i].value == '')
				)
				{
					bt.disabled = true;    // Disable the button.
					bt.style.visibility = 'hidden'
					return false;
				}
				else {
					bt.disabled = false;   // Enable the button.
					bt.style.visibility = 'visible'				}
			}
		}    
	</script>
